"use strict";(globalThis.webpackChunkknowledge_bank=globalThis.webpackChunkknowledge_bank||[]).push([[4848],{5984(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"frontend/react/archive/libs/formik","title":"Formik \u0438 uip","description":"Formik + yup example","source":"@site/docs/3 - frontend/5 - react/88-archive/5-libs/3-formik.md","sourceDirName":"3 - frontend/5 - react/88-archive/5-libs","slug":"/frontend/react/archive/libs/formik","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/formik","draft":false,"unlisted":false,"editUrl":"https://github.com/EvgenyLeukhin/knowledge-bank/edit/main/docs/3 - frontend/5 - react/88-archive/5-libs/3-formik.md","tags":[],"version":"current","sidebarPosition":55,"frontMatter":{"title":"Formik \u0438 uip","sidebar_position":55},"sidebar":"tutorialSidebar","previous":{"title":"\u041b\u0438\u043d\u0442\u0435\u0440\u044b \u0438 \u0442\u0435\u0441\u0442\u0435\u0440\u044b","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/linters"},"next":{"title":"NextJS","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/nextjs"}}');var t=r(4848),o=r(8453);const s={title:"Formik \u0438 uip",sidebar_position:55},i=void 0,l={},m=[{value:"Formik + yup example",id:"formik--yup-example",level:2},{value:"1. Install packages",id:"1-install-packages",level:3},{value:"2. Imports",id:"2-imports",level:3},{value:"3. Form template",id:"3-form-template",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"formik--yup-example",children:"Formik + yup example"}),"\n",(0,t.jsx)(n.h3,{id:"1-install-packages",children:"1. Install packages"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"yarn add formik yup"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-imports",children:"2. Imports"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"import { useFormik } from 'formik';\nimport * as Yup from 'yup';\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-form-template",children:"3. Form template"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// values state\nconst [formValues, setFormValues] = useState<TFormNativeValues>(\n  formNativeEmptyValues,\n);\n\n// loading state\nconst [formLoading, setFormLoading] = useState<boolean>(true);\n\n// request immitation\nuseEffect(() => {\n  setTimeout(() => {\n    setFormValues(formNativeServerValues);\n    setFormLoading(false);\n  }, 1000);\n}, []);\n\nconst formik = useFormik({\n  // enableReinitialize\n  enableReinitialize: true,\n\n  // initial values\n  initialValues: formValues,\n\n  // validationSchema\n  validationSchema: Yup.object({\n    // name\n    name: Yup.string()\n      .min(6, 'must be min 6 characters')\n      .max(20, 'must be max 20 characters')\n      .required('name is required'),\n\n    // password\n    password: Yup.string()\n      .min(6, 'must be min 6 characters')\n      .max(15, 'must be max 15 characters')\n      .required('password is required'),\n  }),\n\n  // formik handleSubmit\n  onSubmit: values => {\n    alert(JSON.stringify(values, null, 2));\n  },\n});\n\nconst {\n  handleSubmit,\n  handleBlur,\n  handleChange,\n  resetForm,\n  // setFieldValue,\n  values: { name, password },\n} = formik;\n\n// onResetForm\nconst onResetForm = () => {\n  resetForm({\n    values: formNativeEmptyValues,\n    touched: {},\n    errors: {},\n  });\n};\n\n// validation errors\nconst notValid: Record<keyof TFormNativeValues, string | boolean | undefined> =\n  {\n    name: formik.touched.name && formik.errors.name,\n    password: formik.touched.password && formik.errors.password,\n  };\n\nconst valid: Record<keyof TFormNativeValues, string | boolean | undefined> = {\n  name: formik.touched.name && !formik.errors.name,\n  password: formik.touched.password && !formik.errors.password,\n};\n\n<form method='post' onSubmit={handleSubmit}>\n  {/* name */}\n  <input\n    id='name'\n    type='text'\n    name='name'\n    placeholder='Enter name'\n    onBlur={handleBlur}\n    onChange={handleChange}\n    value={name}\n  />\n\n  {/* password validation message */}\n  {notValid.name ? <p>{formik.errors.name}</p> : null}\n\n  {/* password */}\n  <input\n    id='password'\n    type='password'\n    name='password'\n    placeholder='Enter password'\n    onBlur={handleBlur}\n    onChange={handleChange}\n    value={password}\n  />\n\n  {/* password validation message */}\n  {notValid.password ? <p>{formik.errors.password}</p> : null}\n\n  {/* buttons */}\n  <button type='submit'>Send</button>\n  <button type='reset' onClick={onResetForm}>\n    Reset\n  </button>\n</form>;\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>s,x:()=>i});var a=r(6540);const t={},o=a.createContext(t);function s(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);