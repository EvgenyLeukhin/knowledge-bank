"use strict";(globalThis.webpackChunkknowledge_bank=globalThis.webpackChunkknowledge_bank||[]).push([[7750],{6833(n,e,s){s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"frontend/react/archive/libs/nextjs","title":"NextJS","description":"\u0431\u0435\u0440\u0442\u043a\u0430 \u043d\u0430\u0434 React, \u0447\u0442\u043e-\u0442\u043e \u0442\u0438\u043f\u043e GatsbyJS \u0432 \u043f\u043b\u0430\u043d\u0435 \u0431\u0438\u043b\u0434\u0438\u043d\u0433\u0430. \u041d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0435 \u0447\u0438\u0441\u0442\u044b\u0439 Virtual DOM, \u0430 \u0441\u043c\u0435\u0441\u044c react \u0438 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e html.","source":"@site/docs/3 - frontend/5 - react/88-archive/5-libs/4-nextjs.md","sourceDirName":"3 - frontend/5 - react/88-archive/5-libs","slug":"/frontend/react/archive/libs/nextjs","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/nextjs","draft":false,"unlisted":false,"editUrl":"https://github.com/EvgenyLeukhin/knowledge-bank/edit/main/docs/3 - frontend/5 - react/88-archive/5-libs/4-nextjs.md","tags":[],"version":"current","sidebarPosition":66,"frontMatter":{"title":"NextJS","sidebar_position":66},"sidebar":"tutorialSidebar","previous":{"title":"Formik \u0438 uip","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/formik"},"next":{"title":"React","permalink":"/knowledge-bank/docs/frontend/react/archive/react"}}');var r=s(4848),i=s(8453);const a={title:"NextJS",sidebar_position:66},l=void 0,o={},d=[{value:"Install with TypeScript (old):",id:"install-with-typescript-old",level:2},{value:"Install with TypeScript (new):",id:"install-with-typescript-new",level:2},{value:"Install 1 old (create-next-app)",id:"install-1-old-create-next-app",level:3},{value:"Install 2 old (manual)",id:"install-2-old-manual",level:3},{value:"Pages",id:"pages",level:2},{value:"Static pages",id:"static-pages",level:3},{value:"_app page",id:"_app-page",level:4},{value:"404 page",id:"404-page",level:4},{value:"Dynamic pages",id:"dynamic-pages",level:3},{value:"Link",id:"link",level:3},{value:"Styling",id:"styling",level:2},{value:"Routing",id:"routing",level:2},{value:"SEO",id:"seo",level:2},{value:"API",id:"api",level:2},{value:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - getStaticProps",id:"\u0437\u0430\u043f\u0440\u043e\u0441\u044b-\u0434\u043b\u044f-\u0441\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446---getstaticprops",level:3},{value:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - getServerSideProps",id:"\u0437\u0430\u043f\u0440\u043e\u0441\u044b-\u0434\u043b\u044f-\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446---getserversideprops",level:3},{value:"Express",id:"express",level:2}];function c(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"\u0431\u0435\u0440\u0442\u043a\u0430 \u043d\u0430\u0434 React, \u0447\u0442\u043e-\u0442\u043e \u0442\u0438\u043f\u043e GatsbyJS \u0432 \u043f\u043b\u0430\u043d\u0435 \u0431\u0438\u043b\u0434\u0438\u043d\u0433\u0430. \u041d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0435 \u0447\u0438\u0441\u0442\u044b\u0439 Virtual DOM, \u0430 \u0441\u043c\u0435\u0441\u044c react \u0438 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e html."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["NextJS Docs - ",(0,r.jsx)(e.a,{href:"https://nextjs.org/",children:"nextjs.org"})]}),"\n",(0,r.jsxs)(e.li,{children:["NextJS Templates - ",(0,r.jsx)(e.a,{href:"https://vercel.com/templates",children:"vercel.com/templates"})]}),"\n",(0,r.jsx)(e.li,{children:"SSR \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439, \u043d\u0435\u0442 \u0442\u0430\u043a\u0438\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u043a\u0430\u043a \u0432 CRA"}),"\n",(0,r.jsx)(e.li,{children:"SEO frendly"}),"\n",(0,r.jsx)(e.li,{children:"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0438\u043d\u0433"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"install-with-typescript-old",children:"Install with TypeScript (old):"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"yarn create next-app --typescript"})}),"\n",(0,r.jsx)(e.h2,{id:"install-with-typescript-new",children:"Install with TypeScript (new):"}),"\n",(0,r.jsx)(e.p,{children:"now ships with TypeScript by default."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"npx create-next-app@latest project-name"})}),"\n",(0,r.jsx)(e.h3,{id:"install-1-old-create-next-app",children:"Install 1 old (create-next-app)"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:'npx create-next-app nextjs-blog --use-npm --example "https://github.com/vercel/next-learn/tree/master/basics/learn-starter"'})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"cd nextjs-blog"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"npm run dev"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"install-2-old-manual",children:"Install 2 old (manual)"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"npm init -y"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"npm i --save react react-dom next"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"./pages/index.js"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"package.json"})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"pages",children:"Pages"}),"\n",(0,r.jsx)(e.h3,{id:"static-pages",children:"Static pages"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"// index.tsx\nconst Index = () => {\n  return (\n    <div>\n      <h1>Hello, Nextjs!!!</h1>\n    </div>\n  );\n};\n\nexport default Index;\n"})}),"\n",(0,r.jsx)(e.h4,{id:"_app-page",children:"_app page"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"// _app.tsx - \u043e\u0431\u0435\u0440\u0442\u043a\u0430\nimport '../styles/global-styles.css';\n\n// This default export is required in a new `pages/_app.js` file.\nexport default function MyApp({ Component, pageProps }) {\n  return <Component {...pageProps} />;\n}\n"})}),"\n",(0,r.jsx)(e.h4,{id:"404-page",children:"404 page"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"// 404.tsx\nexport default function Error() {\n  return <h1>404 - Page not found</h1>;\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"dynamic-pages",children:"Dynamic pages"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"pages/users/index.tsx"})," - users list static page\n",(0,r.jsx)(e.code,{children:"pages/users/[id].tsx"})," - users detail dynamic page"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"link",children:"Link"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\nexport default function LinkCustom({ text, href }) {\n  return (\n    <Link href={`/${href}`}>\n      <a>{text}</a>\n    </Link>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"styling",children:"Styling"}),"\n",(0,r.jsx)(e.p,{children:"Styling\nInline styling"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:'const Index = () => {\n  return (\n    <div>\n      <h1 className="title">Hello, Nextjs!!!</h1>\n    </div>\n\n    <style jsx>\n      {`\n        .title {\n          color: maroon;\n          background-color: white;\n        }\n      `}\n    </style>\n  );\n}\n\nexport default Index;\n'})}),"\n",(0,r.jsx)(e.p,{children:"Styling (_app.js)\n\u0415\u0441\u043b\u0438 \u0432 pages \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b _app.js, \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0435\u0440\u0442\u043a\u043e\u0439 \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043a \u043d\u0435\u043c\u0443 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0438\u043b\u0438."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import '../styles/global-styles.css';\n\n// This default export is required in a new `pages/_app.js` file.\nexport default function MyApp({ Component, pageProps }) {\n  return <Component {...pageProps} />;\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Sass\nnpm i --save sass"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\nimport styles from '../styles/LinkCustom.module.scss';\n\nexport default function LinkCustom({ text, href }) {\n  return (\n    <Link href={`/${href}`}>\n      <a className={styles.LinkCustom}>{text}</a>\n    </Link>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Import module local styles"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\nimport styles from '../styles/LinkCustom.module.css';\n\nexport default function LinkCustom({ text, href }) {\n  return (\n    <Link href={`/${href}`}>\n      <a className={styles.LinkCustom}>{text}</a>\n    </Link>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"routing",children:"Routing"}),"\n",(0,r.jsx)(e.p,{children:"Routing\nStatic routing\npages/users/index.jsx || pages/users.jsx"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\nexport default function staticRouting() {\n  return (\n    <>\n      <Link href='/'>\n        <a>Homepage</a>\n      </Link>\n      <Link href='/users'>\n        <a>Users</a>\n      </Link>\n    </>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Dynamic routing\npages/users/index.jsx || pages/users/[id].jsx"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\nexport default function staticRouting() {\n  return (\n    <Link href={`/users/${user.id}`}>\n      <a>{user.name}</a>\n    </Link>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"useRouter\n// users/[id].js"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { useRouter } from 'next/router';\n\nexport default function userId() {\n  // const router = useRouter();\n  const { query } = useRouter();\n  const { id } = query;\n  console.log('id', id);\n\n  return (\n    <div>\n      <h1>User detail</h1>\n\n      <div>{`User id: ${id}`}</div>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"seo",children:"SEO"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Head from 'next/head';\n\n<Head>\n  <meta keywords='keyword1, keyword2, keyword3' />\n  <title>NextJs - Test</title>\n</Head>;\nMainContainer.js;\nimport Head from 'next/head';\nimport LinkCustom from './LinkCustom';\n\nexport default function MainContainer({ children, keywords }) {\n  return (\n    <>\n      <Head>\n        <meta keywords={keywords} />\n        <title>NextJs - Test</title>\n      </Head>\n\n      <header>\n        <ul className='navbar'>\n          <li>\n            <LinkCustom text='Index' href='' />\n          </li>\n          <li>\n            <LinkCustom text='Users' href='users' />\n          </li>\n        </ul>\n      </header>\n\n      <div>{children}</div>\n\n      {/* inline styling */}\n      <style jsx>\n        {`\n          .navbar {\n            display: flex;\n            list-style: none;\n            margin: 0;\n            padding: 0;\n          }\n        `}\n      </style>\n    </>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"Use MainContainer"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"// index.js\nimport MainContainer from '../components/MainContainer';\n\nconst Index = () => {\n  return (\n    <MainContainer keywords='index page'>\n      <div>\n        <h1 style={{ color: 'maroon' }}>Hello, Nextjs!!!</h1>\n      </div>\n    </MainContainer>\n  );\n};\n\nexport default Index;\n"})}),"\n",(0,r.jsx)(e.p,{children:"Next SEO\nnpm install --save next-seo"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import { NextSeo } from 'next-seo';\n\nconst Page = () => (\n  <>\n    <NextSeo\n      title='Simple Usage Example'\n      description='A short description goes here.'\n    />\n    <p>Simple Usage</p>\n  </>\n);\n\nexport default Page;\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(e.h3,{id:"\u0437\u0430\u043f\u0440\u043e\u0441\u044b-\u0434\u043b\u044f-\u0441\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446---getstaticprops",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - getStaticProps"}),"\n",(0,r.jsx)(e.p,{children:"\u041d\u0435 \u043d\u0443\u0436\u0435\u043d useState \u0438\u043b\u0438 useEffect, \u0432\u0441\u0435 \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 getStaticProps"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"import Link from 'next/Link';\n\n// static props\nexport async function getStaticProps(context) {\n  const response = await fetch('https://jsonplaceholder.typicode.com/users');\n  const users = await response.json();\n  return {\n    props: { users }, // will be passed to the page component as props\n  };\n}\n\nexport default function users({ users }) {\n  return (\n    <div>\n      <h1>Users</h1>\n      <ul>\n        {users.map(user => {\n          return (\n            <li key={user.id}>\n              <Link href={`/users/${user.id}`}>\n                <a>{user.name}</a>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n\n      <h2>Routing</h2>\n      <ul>\n        <li>\n          <Link href='/'>\n            <a>Index</a>\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u0437\u0430\u043f\u0440\u043e\u0441\u044b-\u0434\u043b\u044f-\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445-\u0441\u0442\u0440\u0430\u043d\u0438\u0446---getserversideprops",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 - getServerSideProps"}),"\n",(0,r.jsx)(e.p,{children:"\u041f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0447\u0435\u0440\u0435\u0437 getStaticProps \u0438\u043b\u0438 getServerSideProps \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0443\u0436\u0435 \u043e\u0442\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-tsx",children:"// getServerSideProps - for dynamic pages\nexport async function getServerSideProps(context) {\n  const { params, query } = context; // params, query \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0431\u0438\u0440\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u044d\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\n  const response = await fetch(\n    `https://jsonplaceholder.typicode.com/users/${params.id}`,\n  );\n  const userData = await response.json();\n\n  return {\n    props: { userData }, // will be passed to the page component as props\n  };\n}\n\nexport default function userId({ userData }) {\n  console.log('userData', userData);\n\n  return (\n    <div>\n      <h1>User details:</h1>\n      <ul>\n        <li>\n          <span>Name:</span> <b>{userData.name}</b>\n        </li>\n        <li>\n          <span>Phone:</span> <b>{userData.phone}</b>\n        </li>\n        <li>\n          <span>Website:</span> <b>{userData.website}</b>\n        </li>\n        <li>\n          <span>Id:</span> <b>{userData.id}</b>\n        </li>\n      </ul>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"express",children:"Express"}),"\n",(0,r.jsx)(e.p,{children:"Config for express server"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// @ts-ignore\nconst express = require('express');\nconst next = require('next');\n\nconst dev = process.env.NODE_ENV !== 'production';\nconst app = next({ dev });\nconst handle = app.getRequestHandler();\n\napp\n  .prepare()\n  .then(() => {\n    const server = express();\n\n    server.get('*', (req: any, res: any) => {\n      return handle(req, res);\n    });\n\n    server.listen(3000, (err: any) => {\n      if (err) throw err;\n      console.log('> Ready on http://localhost:3000');\n    });\n  })\n  .catch((ex: any) => {\n    console.error(ex.stack);\n    process.exit(1);\n  });\n"})}),"\n",(0,r.jsx)(e.hr,{})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453(n,e,s){s.d(e,{R:()=>a,x:()=>l});var t=s(6540);const r={},i=t.createContext(r);function a(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);