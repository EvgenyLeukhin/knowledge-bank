"use strict";(globalThis.webpackChunkknowledge_bank=globalThis.webpackChunkknowledge_bank||[]).push([[4848],{5984(r,e,n){n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"frontend/react/archive/libs/formik","title":"Formik \u0438 uip","description":"Formik + yup example","source":"@site/docs/3 - frontend/5 - react/88-archive/5-libs/3-formik.md","sourceDirName":"3 - frontend/5 - react/88-archive/5-libs","slug":"/frontend/react/archive/libs/formik","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/formik","draft":false,"unlisted":false,"editUrl":"https://github.com/EvgenyLeukhin/knowledge-bank/edit/main/docs/3 - frontend/5 - react/88-archive/5-libs/3-formik.md","tags":[],"version":"current","sidebarPosition":55,"frontMatter":{"title":"Formik \u0438 uip","sidebar_position":55},"sidebar":"tutorialSidebar","previous":{"title":"\u041b\u0438\u043d\u0442\u0435\u0440\u044b \u0438 \u0442\u0435\u0441\u0442\u0435\u0440\u044b","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/linters"},"next":{"title":"NextJS","permalink":"/knowledge-bank/docs/frontend/react/archive/libs/nextjs"}}');var t=n(4848),o=n(8453);const s={title:"Formik \u0438 uip",sidebar_position:55},i=void 0,l={},m=[{value:"Formik + yup example",id:"formik--yup-example",level:2},{value:"1. Install packages",id:"1-install-packages",level:3},{value:"2. Imports",id:"2-imports",level:3},{value:"3. Form template",id:"3-form-template",level:3}];function d(r){const e={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,o.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"formik--yup-example",children:"Formik + yup example"}),"\n",(0,t.jsx)(e.h3,{id:"1-install-packages",children:"1. Install packages"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"yarn add formik yup"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"2-imports",children:"2. Imports"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"import { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"3-form-template",children:"3. Form template"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"// values state\r\nconst [formValues, setFormValues] = useState<TFormNativeValues>(\r\n  formNativeEmptyValues,\r\n);\r\n\r\n// loading state\r\nconst [formLoading, setFormLoading] = useState<boolean>(true);\r\n\r\n// request immitation\r\nuseEffect(() => {\r\n  setTimeout(() => {\r\n    setFormValues(formNativeServerValues);\r\n    setFormLoading(false);\r\n  }, 1000);\r\n}, []);\r\n\r\nconst formik = useFormik({\r\n  // enableReinitialize\r\n  enableReinitialize: true,\r\n\r\n  // initial values\r\n  initialValues: formValues,\r\n\r\n  // validationSchema\r\n  validationSchema: Yup.object({\r\n    // name\r\n    name: Yup.string()\r\n      .min(6, 'must be min 6 characters')\r\n      .max(20, 'must be max 20 characters')\r\n      .required('name is required'),\r\n\r\n    // password\r\n    password: Yup.string()\r\n      .min(6, 'must be min 6 characters')\r\n      .max(15, 'must be max 15 characters')\r\n      .required('password is required'),\r\n  }),\r\n\r\n  // formik handleSubmit\r\n  onSubmit: values => {\r\n    alert(JSON.stringify(values, null, 2));\r\n  },\r\n});\r\n\r\nconst {\r\n  handleSubmit,\r\n  handleBlur,\r\n  handleChange,\r\n  resetForm,\r\n  // setFieldValue,\r\n  values: { name, password },\r\n} = formik;\r\n\r\n// onResetForm\r\nconst onResetForm = () => {\r\n  resetForm({\r\n    values: formNativeEmptyValues,\r\n    touched: {},\r\n    errors: {},\r\n  });\r\n};\r\n\r\n// validation errors\r\nconst notValid: Record<keyof TFormNativeValues, string | boolean | undefined> =\r\n  {\r\n    name: formik.touched.name && formik.errors.name,\r\n    password: formik.touched.password && formik.errors.password,\r\n  };\r\n\r\nconst valid: Record<keyof TFormNativeValues, string | boolean | undefined> = {\r\n  name: formik.touched.name && !formik.errors.name,\r\n  password: formik.touched.password && !formik.errors.password,\r\n};\r\n\r\n<form method='post' onSubmit={handleSubmit}>\r\n  {/* name */}\r\n  <input\r\n    id='name'\r\n    type='text'\r\n    name='name'\r\n    placeholder='Enter name'\r\n    onBlur={handleBlur}\r\n    onChange={handleChange}\r\n    value={name}\r\n  />\r\n\r\n  {/* password validation message */}\r\n  {notValid.name ? <p>{formik.errors.name}</p> : null}\r\n\r\n  {/* password */}\r\n  <input\r\n    id='password'\r\n    type='password'\r\n    name='password'\r\n    placeholder='Enter password'\r\n    onBlur={handleBlur}\r\n    onChange={handleChange}\r\n    value={password}\r\n  />\r\n\r\n  {/* password validation message */}\r\n  {notValid.password ? <p>{formik.errors.password}</p> : null}\r\n\r\n  {/* buttons */}\r\n  <button type='submit'>Send</button>\r\n  <button type='reset' onClick={onResetForm}>\r\n    Reset\r\n  </button>\r\n</form>;\n"})})]})}function u(r={}){const{wrapper:e}={...(0,o.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},8453(r,e,n){n.d(e,{R:()=>s,x:()=>i});var a=n(6540);const t={},o=a.createContext(t);function s(r){const e=a.useContext(o);return a.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function i(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:s(r.components),a.createElement(o.Provider,{value:e},r.children)}}}]);