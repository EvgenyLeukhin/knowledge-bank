---
title: DOM-дерево
sidebar_position: 20
---

## Браузер

Основные компоненты браузера

<img src="../../../../img/frontend/browser.png" alt="browser.png" />

**Пользовательский интерфейс** — включает адресную строку, кнопки «назад» и «вперёд», меню закладок и т. д. В пользовательский интерфейс входит всё, что видит пользователь, за исключением окна с содержимым страницы.

**Движок браузера** — обеспечивает взаимодействие между пользовательским интерфейсом и движком рендеринга.
Механизм рендеринга — **отвечает за отображение веб-страницы. Механизм рендеринга анализирует HTML и CSS и отображает содержимое на экране.

**Сеть** — сетевые вызовы, такие как XHR-запросы. Их реализация различается в зависимости от платформы. 

**Бэкенд пользовательского интерфейса** — рисует основные виджеты, такие как флажки и окна. Этот бэкенд предоставляет универсальный интерфейс, который не зависит от платформы. Он использует методы пользовательского интерфейса операционной системы.

**Движок JavaScript** — выполняет JavaScript. Например, V8 в Сhrome.

**Хранилище данных** — возможно, вашему приложению потребуется хранить все данные локально. Типы механизмов хранения: localStorage, indexDB, Web SQL (не рекомендован, но знать о нём нужно), файловая система.

### Ограничения JavaScript в браузере

Разработчики веб-приложений сталкиваются с несколькими ограничениями:

- Нельзя взаимодействовать с файловой системой.
- Нет доступа к сетевым функциям, кроме тех, что предоставляет сам браузер.
- Невозможны многопоточные вычисления. Есть воркеры, но они не решают проблему полностью.
- Нельзя создавать новые процессы или запускать программы.

NodeJS из «коробки» позволяет обойти некоторые из этих ограничений.

## DOM-дерево

Some content

### Обработка контента элементов

```js
document.querySelector('.total__button').addEventListener('click', applyDiscount);

let discont = false;

function applyDiscount() {
  if (!discont) {
    discont = true;
    getDomNodesBySelector('.price-value').forEach(el => {
      el.innerText = el.innerText * 0.85;
    });

    const totalPriceEl = document.querySelector('.total-price-value');
    totalPriceEl.innerHTML = totalPriceEl.innerHTML * 0.85;   
  }   
}
```
